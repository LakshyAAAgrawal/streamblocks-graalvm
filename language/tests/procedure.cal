namespace test:
    actor test () ==> :
        procedure StateChange () begin
            if state = 0 then
                state := 1;
            else
                if state = 1 then
                    state := 2;
                else
                    state := 0;
                end
            end
        end

        state := 0;

        action ==>
        guard state = 0
        do
                StateChange();
                println(0);
        end

        action ==>
        guard state = 1
        do
                StateChange();
                println(1);
        end

        action ==>
        guard state = 2
        do
                StateChange();
                println(2);
        end
    end
end

